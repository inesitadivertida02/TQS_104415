var PbxEmbedding,printbox,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,o,s,p){return new(s=s||Promise)(function(n,t){function r(e){try{i(p.next(e))}catch(e){t(e)}}function a(e){try{i(p.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,a)}i((p=p.apply(e,o||[])).next())})},__generator=this&&this.__generator||function(r,a){var i,o,s,p={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},d={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;p=d&&t[d=0]?0:p;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return p.label++,{value:t[1],done:!1};case 5:p.label++,o=t[1],t=[0];continue;case 7:t=p.ops.pop(),p.trys.pop();continue;default:if(!(s=0<(s=p.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){p=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))p.label=t[1];else if(6===t[0]&&p.label<s[1])p.label=s[1],s=t;else{if(!(s&&p.label<s[2])){s[2]&&p.ops.pop(),p.trys.pop();continue}p.label=s[2],p.ops.push(t)}}t=a.call(r,p)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function setupPrintbox(){var e=null==printbox?void 0:printbox.backendParams;(printbox=new PbxEmbedding.Printbox).backendParams=e}(e=>{var r;function t(){this.isAppDeinitialized=Promise.resolve(!0)}t.prototype.setEditorConfig=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.isAppDeinitialized];case 1:return e.sent(),t=a.getAppParams(this.backendParams,n),window.pbxLoader={appType:r.EDITOR,params:t},this.api={v1:{},getStepUrl:function(e){return""}},a.embedApplication(t),[2]}})})},t.prototype.setProjectsListConfig=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.isAppDeinitialized];case 1:return e.sent(),t=a.getAppParams(this.backendParams,n),window.pbxLoader={appType:r.PROJECTS_LIST,params:t},a.embedApplication(t),[2]}})})},t.prototype.prefetchInitialPbxResources=function(){a.prefetchInitialPbxResources(this.backendParams)},t.prototype.disableExitWarning=function(){window.onbeforeunload=null},e.Printbox=t,(e=r=r||{}).EDITOR="editor",e.PROJECTS_LIST="projectslist",n.prefetchInitialPbxResources=function(n){["app.bundle.js","mainApp.bundle.js","photoUploader.bundle.js"].forEach(function(e){var t=document.createElement("link");t.setAttribute("rel","prefetch"),t.setAttribute("href",n.appPath+"all/dist/"+e),t.setAttribute("as","script"),t.setAttribute("crossorigin","anonymous"),document.head.appendChild(t)})},n.getAppParams=function(e,t){!1!==t.useIframe&&(t.useIframe=!0);e=__assign(__assign({startAppEmbeddingTimestampMs:Date.now(),runtimeContext:n.getRuntimeContext()},e),t);return __assign(__assign({},e),n.getReleaseOverrideFromSessionStorage(e))},n.getRuntimeContext=function(){return s.hasSessionStorage()?sessionStorage.getItem("__pbxDevConsole__pbxRuntimeContextOverride"):null},n.getReleaseOverrideFromSessionStorage=function(e){var t,n,r;return s.hasSessionStorage()&&(t={},n=sessionStorage.getItem("__pbxDevConsole__editorReleaseOverride"),r=sessionStorage.getItem("__pbxDevConsole__assetsReleaseOverride"),n||r)?(n&&(t.appPath=e.appPath.replace(e.release,n),t.release=n),r&&(t.assetsRelease=r),t):null},n.embedApplication=function(e){var t=n.getAppContainer();i.clearOtherIframe(),e.useIframe?(i.setupPbxIframe(t),n.loadChunks(i.getPbxIframeDocument(),e),n.appendLoader(i.getPbxIframeDocument())):(n.loadChunks(document,e),n.appendLoader(document))},n.getAppContainer=function(){return document.getElementById("app")},n.loadChunks=function(e,t){t=n.getBaseAppResourcesUrl(t);s.loadScript(t+"all/dist/app.bundle.js",e)},n.getBaseAppResourcesUrl=function(e){var t=s.hasSessionStorage();return t&&(sessionStorage.getItem("__pbxDevConsole__mobileMode")||sessionStorage.getItem("__pbxDevConsole__jsMobileMode"))?"https://localhost:8000/":!t||"true"!==sessionStorage.getItem("__pbxDevConsole__devMode")&&"true"!==sessionStorage.getItem("__pbxDevConsole__jsDevMode")?e.appPath:"https://dbg.getprintbox.com:8000/"},n.appendLoader=function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML="@keyframes rotateLoader {100% {transform:rotate(360deg);}} .RotatingLoaderContainer {margin:150px 0 !important;display:flex;justify-content:center;align-items:center;} .RotatingLoader {opacity: 0.5;background: conic-gradient(from 0deg at 50% 50%, rgba(244, 250, 246, 0) 0deg, rgb(32, 51, 67) 360deg);-webkit-mask: radial-gradient(farthest-side, rgba(244, 250, 246, 0) calc(100% - 4px), #203343 0px);mask: radial-gradient(farthest-side, rgba(244, 250, 246, 0) calc(100% - 4px), #203343 0px);border-radius: 50%;animation: rotateLoader 1s linear infinite;width: 40px;height: 40px;}@media (min-width: 768px) {.RotatingLoaderContainer {margin:350px 0 !important;} .RotatingLoader {width: 80px;height: 80px;-webkit-mask: radial-gradient(farthest-side, rgba(244, 250, 246, 0) calc(100% - 8px), #203343 0px);mask: radial-gradient(farthest-side, rgba(244, 250, 246, 0) calc(100% - 8px), #203343 0px);}}",e.head.appendChild(t),e.getElementById("app").innerHTML='<div class="RotatingLoaderContainer"><div class="RotatingLoader"></div></div>'};var a=n;function n(){}o.clearOtherIframe=function(){var e=document.getElementById("app_iframe");e&&e.parentNode.removeChild(e)},o.setupPbxIframe=function(e){var t=document.createElement("iframe"),e=(t.id="app_iframe",t.src="about:blank",e.appendChild(t),t.contentWindow),n=e.document;t.style.width="1px",t.style.minWidth="100%",t.style.overflow="hidden",t.setAttribute("scrolling","no"),t.setAttribute("frameborder","0"),n.open(),n.write('<html class="pbx-iframe"><head><title></title></head><body scroll="no" style="overflow: hidden; margin: 0"><div id="app"></div></body></html>'),n.close(),e.printbox=window.printbox,e.pbxLoader=window.pbxLoader,e.__REACT_DEVTOOLS_GLOBAL_HOOK__=window.__REACT_DEVTOOLS_GLOBAL_HOOK__,o.autoResizeIframe(n,t)},o.getPbxIframeDocument=function(){return document.getElementById("app_iframe").contentWindow.document},o.autoResizeIframe=function(n,r){requestAnimationFrame(function e(){var t=n.getElementsByTagName("div")[0];t&&(t=t.offsetHeight,r.style.offsetHeight!==t)&&(r.style.height=t+"px"),requestAnimationFrame(e)})};var i=o;function o(){}p.hasSessionStorage=function(){try{return window.sessionStorage.setItem("__storage-test__",""),window.sessionStorage.removeItem("__storage-test__"),!0}catch(e){return!1}},p.loadScript=function(e,t){var n=document.createElement("script");n.setAttribute("crossorigin","anonymous"),n.type="text/javascript",n.onerror=function(){window.newrelic&&window.newrelic.noticeError(new Error("Failed to load ".concat(e)))},n.src=e,t.body.appendChild(n)};var s=p;function p(){}})(PbxEmbedding=PbxEmbedding||{}),setupPrintbox(); printbox.backendParams = {"backendUri": "https://digitalorca-pbx2.getprintbox.com", "storageUri": "https://cdn1.getprintbox.com/pbx2-digitalorca/media/", "storageBucket": "pbx2-digitalorca", "appPath": "https://js-cdn.getprintbox.com/2025.02.02/", "release": "2025.02.02", "assetsRelease": "2025.02.02", "sinaiAnalyticsWsUrl": "wss://sinai.getprintbox.com/ws", "sinaiAnalyticsXhrUrl": "https://sinai.getprintbox.com/xhr", "brianUrl": "https://brian.getprintbox.com", "kibanaUrl": "https://log.printboxteam.com/pbx.js"}