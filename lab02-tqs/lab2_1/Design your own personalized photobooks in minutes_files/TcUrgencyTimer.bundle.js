!function(){var e={279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=pbxExternals.React,a=n.n(r);const o=window.pbxExternals.CTApi,s=(o.v1.CTModel,o.v1.CTAction,o.v1.CTArray,o.v1.registerModel.bind(o.v1),o.v1.registerAction.bind(o.v1),o.v1.bindable.bind(o.v1),o.v1),i=e=>e?e<10?"0"+e:e:"00",l=e=>{const t=new Date,n=864e5,r=new Date(e).getTime()-t.getTime(),a=r<0;return{days:Math.floor(r/n),hours:Math.floor(r%n/36e5),minutes:Math.floor(r%36e5/6e4),seconds:Math.floor(r%6e4/1e3),endTime:a}};var c=e=>{const{date:t,dayLabel:n,minutesLabel:o,secondsLabel:c,hoursLabel:m}=e,[u,d]=(0,r.useState)({days:0,minutes:0,hours:0,seconds:0,endTime:!1});(0,r.useEffect)((()=>{const e=s.core.model.timers.initAndCallTimeout((()=>{d(l(t))}),1e3);return()=>s.core.model.timers.clear(e)}),[t,u]);const T=i(u.days)||0,p=i(u.hours)||0,f=i(u.minutes)||0,b=i(u.seconds)||0,g=!!u,v=!u.endTime,y=g&&v,C=!!u.days;return y?a().createElement("div",{className:"TC_TimerItemWrapper"},C&&a().createElement(a().Fragment,null,a().createElement("div",{className:"TC_TimerItem"},a().createElement("span",{className:"TC_TimerNumber"},T),a().createElement("span",{className:"TC_TimerUnit"},n)),a().createElement("span",{className:"TC_TimerSeparator"},":")),a().createElement("div",{className:"TC_TimerItem"},a().createElement("span",{className:"TC_TimerNumber"},p),a().createElement("span",{className:"TC_TimerUnit"},m)),a().createElement("span",{className:"TC_TimerSeparator"},":"),a().createElement("div",{className:"TC_TimerItem"},a().createElement("span",{className:"TC_TimerNumber"},f),a().createElement("span",{className:"TC_TimerUnit"},o)),a().createElement("span",{className:"TC_TimerSeparator"},":"),a().createElement("div",{className:"TC_TimerItem"},a().createElement("span",{className:"TC_TimerNumber"},b),a().createElement("span",{className:"TC_TimerUnit"},c))):null},m=e=>{const{text:t,date:n,bannerColor:r,dateFromPFAV:o,dayLabel:s,minutesLabel:i,secondsLabel:m,hoursLabel:u,isOneDayLoop:d}=e;let T=null;if(d){let e=new Date;e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),T=e.toISOString()}else{let t=o?e.util.getProductFamilyAdditionalField("urgentTimerConfig"):n;try{if("Invalid Date"===new Date(t).toString())return console.error(`TcUrgencyTimer info - ${t} isn't proper date. Check configuration.`),a().createElement(a().Fragment,null);T=new Date(t).toISOString()}catch(e){console.log(e)}}return l(T).endTime?(console.warn(`TcUrgencyTimer info - Date ${T} expired.`),a().createElement(a().Fragment,null)):a().createElement("div",{className:"TcUrgencyTimer TC",style:{backgroundColor:r}},a().createElement("span",{className:"TC_TimerText"},t),a().createElement(c,{date:T,dayLabel:s,minutesLabel:i,secondsLabel:m,hoursLabel:u}))}},114:function(e,t,n){var r=n(279),a=n(179);void 0===a.pbxExternals&&(a.pbxExternals={}),void 0===a.pbxExternals.templatedComponents&&(a.pbxExternals.templatedComponents={}),a.pbxExternals.templatedComponents.TcUrgencyTimer=r,e.exports=r},179:function(e,t,n){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(114)}();