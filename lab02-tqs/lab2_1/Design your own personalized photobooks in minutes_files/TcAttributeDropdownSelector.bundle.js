!function(){var e={572:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=pbxExternals.React,a=n.n(r);const o=window.pbxExternals.CTApi,c=(o.v1.CTModel,o.v1.CTAction,o.v1.CTArray,o.v1.registerModel.bind(o.v1),o.v1.registerAction.bind(o.v1),o.v1.bindable.bind(o.v1),o.v1);var i=e=>{const{util:t,options:n,headerText:o,textBetweenSelectorAndButton:i,buttonText:u,selectedValueOnButtonClick:l,nextStepButtonText:s,textBetweenButtons:d,ctaButtonType:m,nextStepButtonType:p}=e,[f,b]=(0,r.useState)(!1),v=(0,r.useRef)(null),T=(0,r.useRef)(null),C=t.getAttributeVisibility(n.attributeId),x=t.getComponents().AttributeValue,E=t.getComponents().AttributeValues,g="image";function N(){b(!f)}function w(){b(!1)}function _(e){const t=e.target;v.current&&!v.current.contains(t)&&T.current&&!T.current.contains(t)&&w()}function y(e,t,n){return a().createElement("button",{className:`TC_Button ${n}`,onClick:t},e)}return(0,r.useEffect)((()=>(document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)})),[]),C?a().createElement("div",{className:"TcAttributeDropdownSelector TC"},a().createElement("div",{className:"TC_Header"},o),a().createElement("div",{className:"TC_AttributeWrapper"},a().createElement(x,{attributeId:n.attributeId,itemConstruct:function(e){const{valueName:n,additionalFields:r}=e,o=f?"TC_Open":"",c=t.getBestThumb(r[g]);return a().createElement("div",{className:`TC_SelectedValueWrapper ${o}`,onClick:N,ref:T},a().createElement("div",{className:"TC_ImageWrapper"},a().createElement("img",{className:"TC_Image",src:c,alt:n})),a().createElement("div",{className:"TC_NameWrapper"},a().createElement("span",{className:"TC_ValueName"},n),a().createElement("span",{className:"TC_ArrowIcon icon-arrow-rounded-down"})))}}),f&&a().createElement(E,{attributeId:n.attributeId,itemConstruct:function(e){return a().createElement("div",{className:"TC_ValuesWrapper",ref:v},e.values)},childConstruct:function(e){const{valueName:n,additionalFields:r,setValue:o}=e,c=t.getBestThumb(r[g]);return a().createElement("div",{className:"TC_ValueWrapper",onClick:()=>{o(!1),w()}},a().createElement("div",{className:"TC_ImageWrapper"},a().createElement("img",{className:"TC_Image",src:c,alt:n})),a().createElement("div",{className:"TC_NameWrapper"},a().createElement("span",{className:"TC_ValueName"},n)))}})),i&&a().createElement("div",{className:"TC_TextSeparator"},i),s?y(s,(function(){c.core.action.steps.goToNextStep()}),p):null,d&&a().createElement("div",{className:"TC_TextSeparator"},d),u&&l?y(u,(function(){t.setAttributeSelectedValue(n.attributeId,l),c.core.action.steps.goToNextStep()}),m):null):null}},952:function(e,t,n){var r=n(572),a=n(179);void 0===a.pbxExternals&&(a.pbxExternals={}),void 0===a.pbxExternals.templatedComponents&&(a.pbxExternals.templatedComponents={}),a.pbxExternals.templatedComponents.TcAttributeDropdownSelector=r,e.exports=r},179:function(e,t,n){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return e}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(952)}();