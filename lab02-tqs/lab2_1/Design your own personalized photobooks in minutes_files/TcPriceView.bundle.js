!function(){var e={363:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=pbxExternals.React,i=r.n(n);class o extends n.Component{constructor(e){super(e)}}const s=window.pbxExternals.CTApi,c=(s.v1.CTModel,s.v1.CTAction,s.v1.CTArray,s.v1.registerModel.bind(s.v1),s.v1.registerAction.bind(s.v1),s.v1.bindable.bind(s.v1),s.v1);Object.defineProperty,Object.getOwnPropertyDescriptor;let a=class extends o{constructor(e){super(e),this.priceContainer=null,this.state={price:null}}componentDidMount(){this.getPrice()}componentDidUpdate(){this.getPrice()}componentWillUnmount(){this.priceContainer=null}getPrice(){const e=c.core.model.attribute.getSelectedAttributes();c.core.util.priceUtil.getPriceWithAdditionalPagesBasedOnCurrentPageCountWithPossiblePagesSettingsChange(e).then((e=>{var t;(null==e?void 0:e.gross)&&(null==(t=this.state.price)?void 0:t.gross)!==(null==e?void 0:e.gross)&&this.isMounted&&this.setState({price:e})}))}get isMounted(){return null!==this.priceContainer}getAffectedQuantityPrice(){var e,t,r,n;const o=(null==(e=this.state.price)?void 0:e.listGross)-(null==(t=this.state.price)?void 0:t.gross)!=0,s=c.core.util.priceUtil.getFormatted(null==(r=this.state.price)?void 0:r.listGross),a=c.core.util.priceUtil.getFormatted(null==(n=this.state.price)?void 0:n.gross);return i().createElement("div",{className:"PriceView",ref:e=>this.priceContainer=e},i().createElement("div",null,i().createElement("span",{className:"PriceViewWrapper "+(o?"hasStrikeThroughPrice":"")},o&&i().createElement("span",{className:"PriceViewStrikethroughPrice"},s),i().createElement("span",{className:"PriceViewCurrentPrice"},a))))}replacePageCountInText(e){const t=`${c.core.util.pagesCountUtil.getPageCount()}`;return null==e?void 0:e.replace("{pageCount}",t)}render(){c.bind(this,c.core.model.quantity.getQuantityBindContainer());const e=c.core.model.store.storeName,t=this.props.util.getProductFamilyAdditionalField(`priceViewAdditionalText_${e}`),{util:r,textBeforePrice:n,discountPercent:o,additionalText:s}=this.props,a=r.getComponents().Price;return i().createElement("div",{className:"TcPriceView TC"},i().createElement("div",{className:"TC_WrapperPrice"},n&&i().createElement("span",{className:"TC_TextBeforePrice"},this.replacePageCountInText(n)),this.props.isQuantityAffectOnPrice?this.getAffectedQuantityPrice():i().createElement(a,null),o&&i().createElement("span",{className:"TC_DiscountPercent"},this.replacePageCountInText(o))),s&&i().createElement("div",{className:"TC_AdditionalText"},this.replacePageCountInText(t)||this.replacePageCountInText(s)))}};a=((e,t,r,n)=>{for(var i,o=t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=i(o)||o);return o})([c.bindable],a)},974:function(e,t,r){var n=r(363),i=r(179);void 0===i.pbxExternals&&(i.pbxExternals={}),void 0===i.pbxExternals.templatedComponents&&(i.pbxExternals.templatedComponents={}),i.pbxExternals.templatedComponents.TcPriceView=n,e.exports=n},179:function(e,t,r){"use strict";e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==r.g)return r.g}return e}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(974)}();